<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sph√®re Gift Box</title>
<link rel="stylesheet" href="sphere.css">
</head>
<body>

<nav class="navbar">
    <div class="nav-left"><img src="img/logoP.png" class="logo" alt="Logo"></div>
    <div class="nav-center" id="nav-links">
        <a href="homee.html">Home</a>
        <a href="Produktet.html">Products</a>
        <a href="aboutus.html">About Us</a>
        <a href="gift.html">Gift Box</a>
    </div>
    <div class="nav-right">
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search products...">
            <button onclick="searchProduct()">üîç</button>
        </div>
        <a href="login.html" class="login-btn"><img src="https://img.icons8.com/ios/50/user--v1.png" alt="Login"></a>
        <a href="cart.html" class="cart-icon" id="cartIcon"><img src="https://img.icons8.com/ios/50/shopping-cart--v1.png" alt="Cart"><span id="cartCount" class="cart-count">0</span></a>
        <span class="hamburger" id="hamburger">‚ò∞</span>
    </div>
</nav>

<section class="product-single">
    <div class="circle-box">
        <img src="img/dhurata.webp" alt="Gift Box">
    </div>
    <div class="product-details">
        <h2 class="product-title">Sph√®re Gift Box</h2>
        <p class="price">‚Ç¨26.00</p>
        <p class="description">A luxurious selection of spherical chocolate pralines!</p>
        <h3>Ingredients:</h3>
        <ul>
            <li>Cocoa butter</li>
            <li>Hazelnuts (roasted)</li>
            <li>Pistachios</li>
            <li>Caramel</li>
            <li>Emulsifier</li>
            <li>Vanilla</li>
        </ul>
        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" value="1" min="1" max="20">
        <p class="total-price">Total: ‚Ç¨26.00</p>
        <button id="add-to-cart">Add to Cart</button>
    </div>
</section>

<div class="mini-cart" id="miniCart">
    <h4>Your Cart</h4>
    <ul id="cartItems"></ul>
    <p id="totalPriceMini">Total: ‚Ç¨0.00</p>
    <a href="cart.html" class="go-cart-btn">Go to Cart</a>
</div>

<footer>
    <p>&copy; 2025 Maison Chocolate. All rights reserved.</p>
    <p>Contact: info@maisonchocolate.com | +383 44 444 444</p>
    <p>Facebook | Instagram | Twitter</p>
</footer>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const price = 26.00;
const quantityInput = document.getElementById('quantity');
const totalPriceEl = document.querySelector('.total-price');
const cartItems = document.getElementById('cartItems');
const miniCart = document.getElementById('miniCart');
const cartIcon = document.getElementById('cartIcon');

function updateTotalPrice() {
    let qty = parseInt(quantityInput.value);
    if(qty<1) qty=1;
    if(qty>20) qty=20;
    totalPriceEl.textContent = `Total: ‚Ç¨${(price*qty).toFixed(2)}`;
}

quantityInput.addEventListener('input', updateTotalPrice);

document.getElementById('add-to-cart').onclick = () => {
    let qty = parseInt(quantityInput.value);
    let existing = cart.find(item => item.name === "Sph√®re Gift Box");
    if(existing) { existing.qty += qty; } 
    else { cart.push({ name: "Sph√®re Gift Box", pricePerUnit: price, qty: qty, img: "dhurata.webp" }); }
    localStorage.setItem('cart', JSON.stringify(cart));
    updateMiniCart();
    quantityInput.value = 1;
    updateTotalPrice();
}

function updateMiniCart(){
    cartItems.innerHTML = "";
    let total = 0;
    cart.forEach(item => {
        total += item.pricePerUnit*item.qty;
        const li = document.createElement('li');
        li.innerHTML = `<img src="img/${item.img}" alt="${item.name}"><span>${item.name} ‚Ç¨${item.pricePerUnit.toFixed(2)} x ${item.qty} = ‚Ç¨${(item.pricePerUnit*item.qty).toFixed(2)}</span>`;
        cartItems.appendChild(li);
    });
    document.getElementById('totalPriceMini').textContent = `Total: ‚Ç¨${total.toFixed(2)}`;
    document.getElementById('cartCount').textContent = cart.reduce((sum,i)=>sum+i.qty,0);
}

cartIcon.onclick = e => {
    e.preventDefault();
    miniCart.style.display = miniCart.style.display==="block"?"none":"block";
}

document.addEventListener('click', e=>{
    if(!e.target.closest(".cart-icon") && !e.target.closest(".mini-cart")){
        miniCart.style.display="none";
    }
})

updateTotalPrice();
updateMiniCart();
</script>

</body>
</html>
