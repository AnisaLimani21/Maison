<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cheesecakes</title>
<link rel="stylesheet" href="Chocolates.css">
<style>


.header { text-align:center; padding:30px 0; }
.header h1 { color:#6b3e26; }

.cheesecake-display { display:flex; gap:20px; margin:20px; justify-content:center; flex-wrap:wrap; position:relative; }

.main-photo-wrapper {
    position: relative;
    width: 350px;
    height: 350px;
}
.main-photo {
    width:350px; 
    height:350px; 
    border-radius:20px; 
    overflow:hidden; 
    position:relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

.main-photo img {
    width:200px; 
    height:200px; 
    object-fit:contain; 
    transition: transform 0.4s ease;
}

.miniatures {
    position: absolute;
    top:50%;
    left:50%;
    width: 400px;
    height: 400px;
    transform: translate(-50%, -50%);
    pointer-events:none; 
}
.miniatures img {
    width:90px;
    height:90px;
    object-fit:cover;
    border:3px solid #d88f2f;
    border-radius:50%;
    cursor:pointer;
    position:absolute;
    transition:0.3s;
    pointer-events:auto;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.miniatures img:hover {
    transform: scale(1.05);
    border-color:#ffd88c;
}

.m1{top:0; left:50%; transform:translateX(-50%);}
.m2{top:15%; right:0; transform:translateY(-50%);}
.m3{top:50%; right:0; transform:translateY(-50%);}
.m4{bottom:15%; right:0; transform:translateY(50%);}
.m5{bottom:0; left:50%; transform:translateX(-50%);}
.m6{bottom:15%; left:0; transform:translateY(50%);}
.m7{top:50%; left:0; transform:translateY(-50%);}
.m8{top:15%; left:0; transform:translateY(-50%);}

.cheesecake-info { 
    margin-top:70px;    
    text-align:left;  
    margin-left:50px;   
}

.cheesecake-info h2 { 
    font-size:28px; 
    color:#333; 
}

.price-add { 
    display:flex; 
    align-items:center; 
    gap:20px; 
    justify-content:center; 
    margin-top:10px; 
}

#cakePrice { 
    font-size:22px; 
    color:#555; 
    margin:0; 
}

#addToCartBtn { 
    background-color:#6b3e26; 
    color:#fff; 
    border:none; 
    padding:10px 20px; 
    font-size:16px; 
    border-radius:8px; 
    cursor:pointer; 
    transition: all 0.3s ease; 
}

#addToCartBtn:hover { 
    background-color:#855c3a; 
    transform: scale(1.05); 
}

.quantity-box {
    display: flex;
    align-items: center;
    gap: 5px;
}
.quantity-box input {
    width: 50px;
    text-align: center;
    font-size: 16px;
    padding: 5px;
}
.quantity-box button {
    padding: 5px 10px;
    cursor: pointer;
    background-color: #6b3e26;
    color: white;
    border: none;
    border-radius: 5px;
}
.quantity-box button:hover { background-color:#855c3a; }

@media screen and (max-width: 768px) {
    .cheesecake-info {
        margin-left: auto;
        margin-right: auto;
        text-align: center;
        max-width: 90%;
         margin: 20px 10px 50px 10px;
        padding: 0 10px;    
    }
    
    .price-add {
        flex-direction: column;
        gap: 10px;
        justify-content: center;
        align-items: center;
    }

    #cakePrice {
        font-size: 20px;
    }

    #addToCartBtn {
        width: 80%;
        padding: 12px 0;
        font-size: 18px;
    }
}

.cart-count { position:absolute; top:-5px; right:-5px; background:red; color:white; font-size:12px; padding:2px 6px; border-radius:50%; }
.mini-cart { position:absolute; top:50px; right:0; background:#fff8f2; border:2px solid #6b3e26; padding:20px; border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.3); display:none; width:300px; z-index:100; }
.mini-cart h4 { margin-bottom:10px; color:#6b3e26; }
.mini-cart ul { list-style:none; padding:0; max-height:200px; overflow-y:auto; }
.mini-cart ul li { margin-bottom:8px; font-size:14px; color:#333; display:flex; align-items:center; }
#totalPrice { font-weight:bold; margin-top:10px; color:#6b3e26; }
.go-cart-btn { display:block; margin-top:10px; text-align:center; background-color:#6b3e26; color:#fff; padding:8px 0; border-radius:6px; text-decoration:none; transition:0.3s; }
.go-cart-btn:hover { background-color:#855c3a; }


</style>
</head>

<body>

<nav class="navbar">
    <div class="nav-left"><img src="img/logoP.png" class="logo" alt="Logo"></div>
    <div class="nav-center" id="nav-links">
        <a href="homee.html">Home</a>
        <a href="Produktet.html">Products</a>
        <a href="aboutus.html">About Us</a>
        <a href="gift.html">Gift Box</a>
    </div>
    <div class="nav-right">
        <div class="search-bar">
            <input type="text" placeholder="Search products...">
            <button>üîç</button>
        </div>
        <a href="login.html" class="login-btn"><img src="https://img.icons8.com/ios/50/user--v1.png" alt="Login"></a>
        <a href="#" class="cart-icon" id="cartIcon">
            <img src="https://img.icons8.com/ios/50/shopping-cart--v1.png" alt="Cart">
            <span id="cartCount" class="cart-count">0</span>
        </a>
        <span class="hamburger" id="hamburger">‚ò∞</span>
    </div>
</nav>

<div id="miniCart" class="mini-cart">
    <h4>Your Cart</h4>
    <ul id="cartItems"></ul>
    <p id="totalPrice">Total: $0.00</p>
    <a href="cart.html" class="go-cart-btn">Go to Cart</a>
</div>

<header class="header">
    <h1>Cheesecakes</h1>
</header>

<section class="cheesecake-display">
    <div class="main-photo-wrapper">
        <div class="main-photo">
            <img id="mainCake" src="img/Screenshot__370_-removebg-preview.png" alt="Classic Cheesecake">
        </div>
        <div class="miniatures">
            <img class="m1" src="img/Screenshot__443_-removebg-preview.png" data-name="Strawberry Cheesecake" data-price="7.50">
            <img class="m2" src="img/Screenshot__448_-removebg-preview.png" data-name="Blueberry Cheesecake" data-price="7.00">
            <img class="m3" src="img/Screenshot__444_-removebg-preview.png" data-name="Chocolate Cheesecake" data-price="8.00">
            <img class="m4" src="img/Screenshot__449_-removebg-preview.png" data-name="Caramel Cheesecake" data-price="8.50">
            <img class="m5" src="img/Screenshot__445_-removebg-preview.png" data-name="Lemon Cheesecake" data-price="6.50">
            <img class="m6" src="img/Screenshot__450_-removebg-preview.png" data-name="Raspberry Cheesecake" data-price="7.80">
            <img class="m7" src="img/Screenshot__451_-removebg-preview.png" data-name="Oreo Cheesecake" data-price="8.20">
            <img class="m8" src="img/Screenshot__452_-removebg-preview.png" data-name="Matcha Cheesecake" data-price="8.00">
        </div>
    </div>
    <div class="cheesecake-info">
        <h2 id="cakeName">Classic Cheesecake</h2>
        <div class="price-add">
            <span id="cakePrice">6.99</span>

          
            <div class="quantity-box">
                <label>Quantity:</label>
                <button class="qty-btn" id="decrease">-</button>
                <input type="number" id="quantity" value="1" min="1" max="20">
                <button class="qty-btn" id="increase">+</button>
            </div>

            <button id="addToCartBtn">Add to Cart üõí</button>
        </div>
    </div>
</section>

<script>

const mainCake = document.getElementById('mainCake');
const cakeName = document.getElementById('cakeName');
const cakePrice = document.getElementById('cakePrice');
const addToCartBtn = document.getElementById('addToCartBtn');
const miniatures = document.querySelectorAll('.miniatures img');
const cartIcon = document.getElementById("cartIcon");
const cartCount = document.getElementById("cartCount");
const miniCart = document.getElementById("miniCart");
const cartItems = document.getElementById("cartItems");
const hamburger = document.getElementById("hamburger");
const navLinks = document.getElementById("nav-links");


const quantityInput = document.getElementById('quantity');
const increaseBtn = document.getElementById('increase');
const decreaseBtn = document.getElementById('decrease');


miniatures.forEach(mini => {
    mini.addEventListener('click', () => {
        mainCake.src = mini.src;
        cakeName.textContent = mini.dataset.name;
        cakePrice.textContent = mini.dataset.price;
        quantityInput.value = 1;
        updateTotal();
    });
});


hamburger.addEventListener("click", () => {
    navLinks.classList.toggle("active");
});


increaseBtn.addEventListener('click', () => {
    let current = parseInt(quantityInput.value);
    if(current < 20) quantityInput.value = current + 1;
    updateTotal();
});

decreaseBtn.addEventListener('click', () => {
    let current = parseInt(quantityInput.value);
    if(current > 1) quantityInput.value = current - 1;
    updateTotal();
});

quantityInput.addEventListener('input', updateTotal);


let cart = JSON.parse(localStorage.getItem("cart")) || [];
cartCount.textContent = cart.length;
updateMiniCart();

function updateTotal(){
    let qty = parseInt(quantityInput.value);
    if(isNaN(qty) || qty < 1) qty = 1;
    if(qty > 20) qty = 20;
    quantityInput.value = qty;
}


addToCartBtn.addEventListener("click", () => {
    const qty = parseInt(quantityInput.value);
    const pricePerUnit = parseFloat(cakePrice.textContent) || 0;

    const product = {
        name: cakeName.textContent,
        pricePerUnit: pricePerUnit,
        qty: qty,
        img: mainCake.src.split("/").pop()
    };

    cart.push(product);
    localStorage.setItem("cart", JSON.stringify(cart));
    cartCount.textContent = cart.length;
    updateMiniCart();
    alert(`${product.name} x${product.qty} added to cart!`);
});

function updateMiniCart() {
    cartItems.innerHTML = "";
    let total = 0;

    cart.forEach((item, index) => {
        const itemTotal = item.pricePerUnit * item.qty;
        total += itemTotal;

        const li = document.createElement("li");
        li.innerHTML = `
            <img src="img/${item.img}" alt="${item.name}" style="width:40px;height:30px;margin-right:5px;">
            ${item.name} x${item.qty} - $${itemTotal.toFixed(2)}
            <button onclick="removeFromCart(${index})">Remove</button>
        `;
        cartItems.appendChild(li);
    });

    document.getElementById("totalPrice").textContent = "Total: $" + total.toFixed(2);
    miniCart.style.display = cart.length ? "block" : "none";
}


function removeFromCart(index){
    cart.splice(index,1);
    localStorage.setItem("cart", JSON.stringify(cart));
    cartCount.textContent = cart.length;
    updateMiniCart();
}


cartIcon.addEventListener("click", (e)=>{
    e.preventDefault();
    miniCart.style.display = miniCart.style.display==="block" ? "none" : "block";
});

document.addEventListener("click", (e)=>{
    if(!cartIcon.contains(e.target) && !miniCart.contains(e.target)){
        miniCart.style.display = "none";
    }
});

updateTotal();
</script>

</body>
</html>
