<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pralines</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:Arial,sans-serif;background:#fff8f2;overflow-x:hidden;}


.navbar{width:100%;display:flex;justify-content:space-between;align-items:center;padding:15px 40px;background:#6b3e26;box-shadow:0 8px 20px rgba(0,0,0,0.3);border-bottom-left-radius:10px;border-bottom-right-radius:10px;position:relative;z-index:10;}
.logo{width:70px;}
.nav-center{display:flex;gap:30px;}
.nav-center a{text-decoration:none;color:#fff;font-weight:600;transition:0.3s;}
.nav-center a:hover{color:#ffd88c;}
.nav-right{display:flex;align-items:center;gap:15px;position:relative;}
.search-bar{display:flex;align-items:center;background:#fff;border-radius:20px;padding:2px 10px;}
.search-bar input{border:none;outline:none;padding:5px;background:none;}
.search-bar button{border:none;background:none;font-size:18px;cursor:pointer;}
.login-btn img,.cart-icon img{width:30px;height:30px;filter:invert(100%);transition:0.3s;}
.login-btn img:hover,.cart-icon img:hover{filter:invert(85%) sepia(100%) saturate(500%) hue-rotate(30deg);}
.cart-count{position:absolute;top:-5px;right:-5px;background:red;color:white;font-size:12px;padding:2px 6px;border-radius:50%;}


.mini-cart{position:absolute;right:20px;top:70px;width:300px;background:#fff8f2;border:2px solid #6b3e26;padding:20px;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,0.3);display:none;z-index:100;}
.mini-cart h4{margin-bottom:10px;color:#6b3e26;}
.mini-cart ul{list-style:none;padding:0;max-height:200px;overflow-y:auto;}
.mini-cart ul li{margin-bottom:8px;font-size:14px;color:#333;display:flex;align-items:center;gap:5px;}
.mini-cart ul li img{width:40px;height:30px;object-fit:cover;border-radius:4px;}
#totalPrice{font-weight:bold;margin-top:10px;color:#6b3e26;}
.go-cart-btn{display:block;margin-top:10px;text-align:center;background-color:#6b3e26;color:#fff;padding:8px 0;border-radius:6px;text-decoration:none;transition:0.3s;}
.go-cart-btn:hover{background-color:#855c3a;}

.grid{padding:40px;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:30px;}
.card{background:white;padding:20px;border-radius:20px;box-shadow:0 4px 15px rgba(0,0,0,0.1);text-align:center;transition:0.3s;}
.card:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,0.2);}
.card img{width:150px;height:150px;object-fit:cover;border-radius:20px;margin-bottom:20px;}
.btn{background:#6b3e26;color:#fff;padding:10px 20px;border-radius:8px;margin-top:10px;cursor:pointer;display:inline-block;transition:0.3s;}
.btn:hover{background:#855c3a;}


.modal-bg{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:none;justify-content:center;align-items:center;z-index:200;}
.modal{background:white;width:90%;max-width:450px;padding:20px;border-radius:12px;position:relative;}
.close{float:right;cursor:pointer;font-size:22px;}
.modal img{width:100%;height:250px;object-fit:contain;margin-bottom:15px;border-radius:12px;}
.add-btn{width:100%;padding:12px;border-radius:8px;background:#6b3e26;color:white;cursor:pointer;transition:0.3s;margin-top:10px;}
.add-btn:hover{background:#855c3a;}
.qty-selector{display:flex;justify-content:center;align-items:center;gap:10px;margin-top:10px;}
.qty-selector button{padding:5px 10px;cursor:pointer;border:none;background:#6b3e26;color:white;border-radius:6px;transition:0.3s;}
.qty-selector button:hover{background:#855c3a;}
.qty-number{font-size:16px;font-weight:bold;}
</style>
</head>
<body>

<nav class="navbar">
    <div class="nav-left"><img src="img/logoP.png" class="logo"></div>
    <div class="nav-center" id="nav-links">
        <a href="homee.html">Home</a>
        <a href="Produktet.html">Products</a>
        <a href="aboutus.html">About Us</a>
        <a href="gift.html">Gift Box</a>
    </div>
    <div class="nav-right">
        <div class="search-bar">
            <input type="text" placeholder="Search...">
            <button>üîç</button>
        </div>
        <a href="login.html" class="login-btn"><img src="https://img.icons8.com/ios/50/user--v1.png"></a>
        <a href="#" class="cart-icon" id="cartIcon">
            <img src="https://img.icons8.com/ios/50/shopping-cart--v1.png">
            <span id="cartCount" class="cart-count">0</span>
        </a>
    </div>
</nav>

<div id="miniCart" class="mini-cart">
    <h4>Your Cart</h4>
    <ul id="cartItems"></ul>
    <p id="totalPrice">Total: ‚Ç¨0.00</p>
    <a href="cart.html" class="go-cart-btn">Go to Cart</a>
</div>

<h1 style="text-align:center;margin-top:40px;">Our Pralines</h1>
<div class="grid" id="pralineGrid"></div>

<div class="modal-bg" id="modalBg">
    <div class="modal">
        <span class="close" onclick="closeModal()">‚úñ</span>
        <img id="modalImg">
        <h2 id="modalName"></h2>
        <p id="modalPrice"></p>
        <p id="modalDesc"></p>
        <h4>Ingredients:</h4>
        <ul id="modalIng"></ul>
        <div class="qty-selector">
            <button onclick="decreaseQty()">-</button>
            <span class="qty-number" id="qtyNumber">1</span>
            <button onclick="increaseQty()">+</button>
        </div>
        <button class="add-btn" onclick="addToCart()">Add to Cart</button>
    </div>
</div>

<script>
let pralines=[
{name:"Hazelnut Praline",price:2.50,img:"photos/slider1.jpg",desc:"Smooth hazelnut cream.",ing:["Hazelnuts","Milk chocolate","Sugar","Vanilla"]},
{name:"Dark Choco Praline",price:2.80,img:"photos/slider2.jpg",desc:"Rich dark chocolate.",ing:["Dark chocolate","Cocoa butter","Cream"]},
{name:"Almond Crunch",price:2.60,img:"photos/slider3.jpg",desc:"Crispy almond center.",ing:["Almonds","Caramel","Milk chocolate"]},
{name:"Caramel Heart",price:2.40,img:"photos/slider4.jpg",desc:"Soft caramel filling.",ing:["Caramel","Milk chocolate","Butter"]},
{name:"Signature Luxury",price:3.00,img:"photos/slider5.jpg",desc:"Premium gourmet praline.",ing:["Hazelnut paste","Belgian chocolate","Cream"]},
];

const grid=document.getElementById("pralineGrid");
pralines.forEach((p,i)=>{
    grid.innerHTML+=`<div class="card">
        <img src="${p.img}">
        <h3>${p.name}</h3>
        <p>‚Ç¨${p.price.toFixed(2)}</p>
        <div class="btn" onclick="openModal(${i})">View Details</div>
    </div>`;
});

let currentIndex=0;
let qty=1;

function openModal(i){
    currentIndex=i;
    qty=1;
    document.getElementById("modalImg").src=pralines[i].img;
    document.getElementById("modalName").innerText=pralines[i].name;
    document.getElementById("modalPrice").innerText="‚Ç¨"+pralines[i].price.toFixed(2);
    document.getElementById("modalDesc").innerText=pralines[i].desc;
    document.getElementById("qtyNumber").innerText=qty;
    let ingList="";
    pralines[i].ing.forEach(x=>ingList+=`<li>${x}</li>`);
    document.getElementById("modalIng").innerHTML=ingList;
    document.getElementById("modalBg").style.display="flex";
}
function closeModal(){document.getElementById("modalBg").style.display="none";}
function increaseQty(){ qty++; document.getElementById("qtyNumber").innerText=qty; }
function decreaseQty(){ if(qty>1){ qty--; document.getElementById("qtyNumber").innerText=qty; } }

let cart=JSON.parse(localStorage.getItem("cart"))||[];
const cartCount=document.getElementById("cartCount");
const cartIcon=document.getElementById("cartIcon");
const miniCart=document.getElementById("miniCart");
const cartItems=document.getElementById("cartItems");

function updateCartCount(){ cartCount.textContent = cart.reduce((acc,item)=>acc+item.qty,0); }

function addToCart(){
    let existing = cart.find(item => item.name===pralines[currentIndex].name);
    if(existing){ existing.qty += qty; }
    else{ cart.push({name:pralines[currentIndex].name,img:pralines[currentIndex].img,price:pralines[currentIndex].price,qty:qty}); }
    localStorage.setItem("cart",JSON.stringify(cart));
    updateCartCount();
    updateMiniCart();
    miniCart.style.display="block";
    closeModal();
}

function updateMiniCart(){
    cartItems.innerHTML="";
    let total=0;
    cart.forEach(item=>{
        cartItems.innerHTML+=`<li>
            <img src="${item.img}">
            <div>${item.name} x${item.qty}<br>‚Ç¨${(item.price*item.qty).toFixed(2)}</div>
        </li>`;
        total+=item.price*item.qty;
    });
    document.getElementById("totalPrice").innerText="Total: ‚Ç¨"+total.toFixed(2);
}

updateCartCount();
updateMiniCart();


cartIcon.addEventListener("click",e=>{
    e.preventDefault();
    miniCart.style.display = miniCart.style.display==="block"?"none":"block";
});


document.addEventListener("click",e=>{
    if(!cartIcon.contains(e.target) && !miniCart.contains(e.target) && !e.target.closest('.modal')){
        miniCart.style.display="none";
    }
});
</script>
</body>
</html>
