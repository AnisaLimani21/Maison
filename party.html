<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Bar Gift Box Size XL</title>
<link rel="stylesheet" href="party.css">
</head>
<body>

<nav class="navbar">
    <div class="nav-left"><img src="img/logoP.png" class="logo" alt="Logo"></div>
    <div class="nav-center" id="nav-links">
        <a href="homee.html">Home</a>
        <a href="Produktet.html">Products</a>
        <a href="aboutus.html">About Us</a>
        <a href="gift.html">Gift Box</a>
    </div>
    <div class="nav-right">
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search products...">
            <button onclick="searchProduct()">üîç</button>
        </div>
        <a href="login.html" class="login-btn"><img src="https://img.icons8.com/ios/50/user--v1.png" alt="Login"></a>
        <div class="cart-icon" id="cartIcon">
            <img src="https://img.icons8.com/ios/50/shopping-cart--v1.png" alt="Cart">
            <span id="cartCount" class="cart-count">0</span>
        </div>
        <span class="hamburger" id="hamburger">‚ò∞</span>
    </div>
</nav>

<div class="mini-cart" id="miniCart">
    <h4>Your Cart</h4>
    <ul id="cartItems"></ul>
    <p id="totalPriceMini">Total: ‚Ç¨0.00</p>
    <a href="cart.html" class="go-cart-btn">Go to Cart</a>
</div>

<section class="product-single">
    <div class="circle-box">
        <img src="img/dhurata4.webp" alt="Party Gift Box">
    </div>
    <div class="product-details">
        <h2 class="product-title">Party Gift Box</h2>
        <p class="price">‚Ç¨115.00</p>
        <p class="description">A festive assortment of chocolates, perfect for parties and celebrations.</p>
        <h3>Ingredients:</h3>
        <ul>
            <li>Cocoa butter</li>
            <li>Hazelnuts (roasted)</li>
            <li>Pistachios</li>
            <li>Caramel</li>
            <li>Emulsifier</li>
            <li>Vanilla</li>
        </ul>
        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" value="1" min="1" max="20">
        <p class="total-price">Total: ‚Ç¨115.00</p>
        <button id="add-to-cart">Add to Cart</button>
    </div>
</section>

<footer>
    <p>&copy; 2025 Maison Chocolate. All rights reserved.</p>
    <p>Contact: info@maisonchocolate.com | +383 44 444 444</p>
    <p>Facebook | Instagram | Twitter</p>
</footer>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const price = 115.00;
const quantityInput = document.getElementById('quantity');
const totalPriceEl = document.querySelector('.total-price');
const cartItems = document.getElementById('cartItems');
const miniCart = document.getElementById('miniCart');
const cartIcon = document.getElementById('cartIcon');
const cartCount = document.getElementById('cartCount');

function updateTotalPrice() {
    let qty = parseInt(quantityInput.value);
    if(qty < 1) qty = 1;
    if(qty > 20) qty = 20;
    quantityInput.value = qty;
    totalPriceEl.textContent = `Total: ‚Ç¨${(price*qty).toFixed(2)}`;
}

quantityInput.addEventListener('input', updateTotalPrice);

document.getElementById('add-to-cart').onclick = () => {
    let qty = parseInt(quantityInput.value);
    let existing = cart.find(item => item.name === "Party Gift Box");
    if(existing) { existing.qty += qty; } 
    else { cart.push({ name: "Party Gift Box", pricePerUnit: price, qty: qty, img: "dhurata4.webp" }); }
    localStorage.setItem('cart', JSON.stringify(cart));
    updateMiniCart();
    quantityInput.value = 1;
    updateTotalPrice();
}

function updateMiniCart(){
    cartItems.innerHTML = "";
    let total = 0;
    cart.forEach(item => {
        total += item.pricePerUnit*item.qty;
        const li = document.createElement('li');
        li.innerHTML = `<img src="img/${item.img}" alt="${item.name}"><span>${item.name} ‚Ç¨${item.pricePerUnit.toFixed(2)} x ${item.qty} = ‚Ç¨${(item.pricePerUnit*item.qty).toFixed(2)}</span>`;
        cartItems.appendChild(li);
    });
    document.getElementById('totalPriceMini').textContent = `Total: ‚Ç¨${total.toFixed(2)}`;
    cartCount.textContent = cart.reduce((sum,i)=>sum+i.qty,0);
}

cartIcon.onclick = e => {
    e.preventDefault();
    miniCart.style.display = miniCart.style.display==="block"?"none":"block";
}

document.addEventListener('click', e=>{
    if(!e.target.closest(".cart-icon") && !e.target.closest(".mini-cart")){
        miniCart.style.display="none";
    }
})

const hamburger = document.getElementById('hamburger');
const navLinks = document.getElementById('nav-links');
hamburger.addEventListener('click', () => {
    navLinks.classList.toggle('active');
});

function searchProduct(){
    const searchValue = document.getElementById('searchInput').value.toLowerCase();
    if(searchValue.includes('party') || searchValue.includes('gift')){
        alert('Product found!');
    } else {
        alert('No product found.');
    }
}

updateTotalPrice();
updateMiniCart();
</script>
</body>
</html>
